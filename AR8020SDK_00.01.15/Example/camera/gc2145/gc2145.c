#include "gc2145.h"
#include "hal_i2c.h"
#include "i2c.h"
#include "hal_gpio.h"
#include "hal.h"
#include "hal_dvp.h"
//#include "i2c_ll.h"


static STRU_CAMERA_REG_VALUE  GC2145MIPI_1Lane[] = 
{
    /////////////p sub
    //////// gain 8.8x
    /////////a gain 4x
    /////////d gain 2.2x
    0xfffe, 0xf0,
    0xfffe, 0xf0,
    0xfffe, 0xf0,
    
    0xfffc, 0x06,
    0xfff6, 0x00,
    
    0xfff7, 0x1d, //37 //17 //37 //1d//05
    0xfff8, 0x84, //87 //83 //82
    0xfffa, 0x10,
    0xfff9, 0x8e, //ff
    
    0xfff2, 0x00,
    
    //////////////////////////////////////////////////////
    ////////////////////  Analog & Cisctl ////////////////
    //////////////////////////////////////////////////////
    0xfffe, 0x00,
    
    0xff03, 0x04, //exp time
    0xff04, 0x00, //exp time
    
    0xff05, 0x01, //00 //hb[11:8]
    0xff06, 0x68, //0b //hb
    
    0xff09, 0x00, //row start
    0xff0a, 0x00, //
    0xff0b, 0x00, //col start
    0xff0c, 0x00,
    0xff0d, 0x04, //height
    0xff0e, 0xc0,
    0xff0f, 0x06, //width
    0xff10, 0x52,
    
    0xff12, 0x2e, //sh_delay 太短 YUV出图异常
    0xff17, 0x14, //CISCTL Mode1 [1:0]mirror flip
    0xff18, 0x22, //sdark mode
    0xff19, 0x0e, //0f// AD pipe number
    0xff1a, 0x01, //AD manual switch mode
    
    0xff1b, 0x4b, //48 restg Width,SH width
    0xff1c, 0x07, //06  帧率快后，横条纹 //12 //TX Width,Space Width
    0xff1d, 0x10, //double reset
    0xff1e, 0x88,//90//98 //fix  竖线//Analog Mode1,TX high,Coln_r
    0xff1f, 0x78, //78 //38 //18 //Analog Mode2,txlow
    0xff20, 0x03, //07 //Analog Mode3,comv,ad_clk mode
    0xff21, 0x40,//10//20//40 //fix 灯管横条纹
    0xff22, 0xa0,//d0//f0 //a2 //Vref vpix  FPN严重
    0xff24, 0x16, //Pad drv
    0xff25, 0x01, //col sel
    0xff26, 0x10, //Analog PGA gain1
    0xff2d, 0x60,//40//40 //txl drv mode
    0xff30, 0x01, //Analog Mode4 
    0xff31, 0x90,//b0//70 // Analog Mode7 [7:5]rsgh_r灯管横条纹[4:3]isp_g
    0xff33, 0x06,//03//02//01 //EQ_hstart_width
    0xff34, 0x01,
    //
    ///////////////////////////////////////////////////
    ////////////////////  ISP reg  //////////////////////
    //////////////////////////////////////////////////////
    0xff80, 0x7f,//ff //outdoor gamma_en, GAMMA_en, CC_en, EE_en, INTP_en, DN_en, DD_en,LSC_en
    0xff81, 0x26,//24 //BLK dither mode, ll_y_en ,skin_en, edge SA, new_skin_mode, autogray_en,ll_gamma_en,BFF test image
    0xff82, 0xfa, //FA //auto_SA, auto_EE, auto_DN, auto_DD, auto_LSC, ABS_en, AWB_en, NA
    0xff83, 0x00, //special_effect
    0xff84, 0x01, //output format
    0xff86, 0x06, //c2 //46 //c2 //sync mode
    0xff88, 0x03, //[1]ctl_auto_gating [0]out_auto_gating
    0xff89, 0x03, //bypass disable
    0xff85, 0x08,//04//30 //60//frame start cut
    0xff8a, 0x00, //ISP_quiet_mode,close aaa pclk,BLK gate mode,exception,close first pipe clock,close dndd clock,close intp clock,DIV_gatedclk_en
    0xff8b, 0x00, //[7:6]BFF_gate_mode,[5]BLK switch gain,[4]protect exp,[3:2]pipe gate mode,[1]not split sram,[0]dark current update
    
    0xffb0, 0x55,//60 //global gain
    0xffc3, 0x00, //[7:4]auto_exp_gamma_th1[11:8],[3:0]auto_exp_gamma_th2[11:8]
    0xffc4, 0x80, //auto_exp_gamma_th1[7:0] into 
    0xffc5, 0x90, //auto_exp_gamma_th2[7:0] out //outdoor gamma
    0xffc6, 0x3b,//38 //auto_gamma_th1 
    0xffc7, 0x46,//40 //auto_gamma_th2
    
    0xffec, 0x06,  //measure window
    0xffed, 0x04,
    0xffee, 0x60, //16  col
    0xffef, 0x90, //8  row
    
    0xffb6, 0x01, //[0]aec en
    
    0xff90, 0x01, //crop
    0xff91, 0x00,
    0xff92, 0x00,
    0xff93, 0x00,
    0xff94, 0x00, //08
    0xff95, 0x04,
    0xff96, 0xb0,
    0xff97, 0x06,
    0xff98, 0x40,
    
    ///////////////////////////////////////////////
    ///////////  BLK ////////////////////////
    ///////////////////////////////////////////////
    0xff40, 0x42, //2b //27
    0xff41, 0x00, //80 //dark row sel
    0xff43, 0x5b,//58//54 //[7:4]BLK start not smooth  [3:0]output start frame
    
    0xff5e, 0x00,//00//10 //18
    0xff5f, 0x00,//00//10 //18
    0xff60, 0x00,//00//10 //18
    0xff61, 0x00,//00///10 //18
    0xff62, 0x00,//00//10 //18
    0xff63, 0x00,//00//10 //18
    0xff64, 0x00,//00/10 //18
    0xff65, 0x00,//00//10 //18
    0xff66, 0x20,//1e
    0xff67, 0x20,//1e 
    0xff68, 0x20,//1e 
    0xff69, 0x20,//1e
    
    0xff76, 0x00,//0f
    
    0xff6a, 0x08,
    0xff6b, 0x08,
    0xff6c, 0x08,
    0xff6d, 0x08,
    0xff6e, 0x08,
    0xff6f, 0x08,
    0xff70, 0x08,
    0xff71, 0x08, //manual offset
    
    0xff76, 0x00,//1f//add offset
    0xff72, 0xf0, //[7:4]BLK DD th [3:0]BLK various th
    0xff7e, 0x3c, //ndark
    0xff7f, 0x00, 
    
    0xfffe, 0x02,
    0xff48, 0x15,
    0xff49, 0x00,//04//04 //ASDE OFFSET SLOPE 
    0xff4b, 0x0b, //ASDE y OFFSET SLOPE
    0xfffe, 0x00,
    
    ///////////////////////////////////////////////
    /////////// AEC ////////////////////////
    ///////////////////////////////////////////////
    0xfffe, 0x01,
    
    0xff01, 0x04, //AEC X1
    0xff02, 0xc0, //AEC X2
    0xff03, 0x04, //AEC Y1
    0xff04, 0x90, //AEC Y2
    0xff05, 0x30, //20 //AEC center X1
    0xff06, 0x90, //40 //AEC center X2
    0xff07, 0x30, //30 //AEC center Y1
    0xff08, 0x80, //60 //AEC center Y2
    
    0xff09, 0x00, //AEC show mode
    0xff0a, 0x82,//c2 //[7]col gain enable
    0xff0b, 0x11, //AEC every N
    0xff0c, 0x10, //AEC_mode3 center weight 
    0xff11, 0x10,//
    0xff13, 0x7b,//75//30//2a //AEC Y target
    0xff17, 0x00, //AEC ignore mode
    0xff1c, 0x11, //
    0xff1e, 0x61, //
    0xff1f, 0x35,//30//40//50 //max pre gain
    0xff20, 0x40,//60//40 //max post gain
    0xff22, 0x40,//80 //AEC outdoor THD
    0xff23, 0x20, //target_Y_low_limit
    0xfffe, 0x02,
    0xff0f, 0x04,//05//04//05  
    0xfffe, 0x01,
    
    0xff12, 0x35, //35 //[5:4]group_size [3]slope_disable [2]outdoor_enable [0]histogram_enable
    0xff15, 0xb0, //target_Y_high_limit
    0xff10, 0x31, //num_thd_high
    0xff3e, 0x28, //num_thd_low
    0xff3f, 0xb0, //luma_thd
    0xff40, 0x90, //luma_slope
    0xff41, 0x0f, //color_diff
    
    /////////////////////////////
    //////// INTPEE /////////////
    /////////////////////////////
    0xfffe, 0x02, //page2
    0xff90, 0x6c, //ac //eeintp mode1
    0xff91, 0x03,//02 ////eeintp mode2
    0xff92, 0xcb,//64//c8//44 //low criteria for direction
    0xff94, 0x33,//66
    0xff95, 0x84,//b5
    0xff97, 0x65,//78 ////edge effect
    0xffa2, 0x11, //fix direction
    0xfffe, 0x00,
    
    /////////////////////////////
    //////// DNDD///////////////
    /////////////////////////////
    0xfffe, 0x02,
    0xff80, 0xc1, //c1 //[7]share mode [6]skin mode  [5]is 5x5 mode [1:0]noise value select 0:2  1:2.5  2:3  3:4
    0xff81, 0x08, //
    0xff82, 0x05,//08 //signal a 0.6
    0xff83, 0x08,//05//04 //signal b 2.5
    
    0xff84, 0x0a, //10 //05 dark_DD_TH
    0xff86, 0xf0, //a0 Y_value_dd_th2
    0xff87, 0x50, //90 Y_value_dd_th3
    0xff88, 0x15, //60 Y_value_dd_th4
    
    0xff89, 0xb0, //80  // asde th2
    0xff8a, 0x30, //60  // asde th3
    0xff8b, 0x10, //30  // asde th4
    
    /////////////////////////////////////////////////
    ///////////// ASDE ////////////////////////
    /////////////////////////////////////////////////
    0xfffe, 0x01, //page 1
    0xff21, 0x05, //14//luma_value_div_sel(分频，与0xef呈2倍关系，增大1，0xef的值减小1倍)
    //0xffef  luma_value read_only
    
    0xfffe, 0x02, //page2
    0xffa3, 0x50,//40 //ASDE_low_luma_value_LSC_th_H
    0xffa4, 0x20, //ASDE_low_luma_value_LSC_th_L
    
    0xffa5, 0x40, //80 //ASDE_LSC_gain_dec_slope_H
    0xffa6, 0x80, // 80 //ASDE_LSC_gain_dec_slope_L
    //0xff, 0xa7,  ASDE_LSC_gain_dec  //read only
    
    0xffab, 0x40,//50 //ASDE_low_luma_value_OT_th 
    
    0xffae, 0x0c, //[3]EE1_effect_inc_or_dec_high,[2]EE2_effect_inc_or_dec_high,
                    //[1]EE1_effect_inc_or_dec_low,[0]EE2_effect_inc_or_dec_low,  1:inc  0:dec
    
    0xffb3, 0x46,//34//44 //ASDE_EE1_effect_slope_low,ASDE_EE2_effect_slope_low
    0xffb4, 0x64,//44 //12 //ASDE_EE1_effect_slope_high,ASDE_EE2_effect_slope_high
    
    0xffb6, 0x38,//40//40 //ASDE_auto_saturation_dec_slope 
    0xffb7, 0x01,//02 //ASDE_sub_saturation_slope
    0xffb9, 0x2b,//28//32 //[7:0]ASDE_auto_saturation_low_limit
    0xff3c, 0x04,//08//[3:0]auto gray_dec_slope
    0xff3d, 0x15,//20//30//[7:0]auto gray_dec_th
    
    
    0xff4b, 0x06,//08//0d//y offset slope
    0xff4c, 0x20,//y offset limit
    
    0xfffe, 0x00,
    //
    ///////////////////gamma1////////////////////
    ////Gamma
    
    0xfffe, 0x02,
    0xff10, 0x09,//10
    0xff11, 0x0d,//15
    0xff12, 0x13,//1a
    0xff13, 0x19,//1f
    0xff14, 0x27,//2c
    0xff15, 0x37,//39
    0xff16, 0x45,//45
    0xff17, 0x53,//54
    0xff18, 0x69,
    0xff19, 0x7d,
    0xff1a, 0x8f,
    0xff1b, 0x9d,
    0xff1c, 0xa9,
    0xff1d, 0xbd,
    0xff1e, 0xcd,
    0xff1f, 0xd9,
    0xff20, 0xe3,
    0xff21, 0xea,
    0xff22, 0xef,
    0xff23, 0xf5,
    0xff24, 0xf9,
    0xff25, 0xff,
    
    //0xfffe, 0x02,
    //0xff10, 0x0a,
    //0xff11, 0x12,
    //0xff12, 0x19,
    //0xff13, 0x1f,
    //0xff14, 0x2c,
    //0xff15, 0x38,
    //0xff16, 0x42,
    //0xff17, 0x4e,
    //0xff18, 0x63,
    //0xff19, 0x76,
    //0xff1a, 0x87,
    //0xff1b, 0x96,
    //0xff1c, 0xa2,
    //0xff1d, 0xb8,
    //0xff1e, 0xcb,
    //0xff1f, 0xd8,
    //0xff20, 0xe2,
    //0xff21, 0xe9,
    //0xff22, 0xf0,
    //0xff23, 0xf8,
    //0xff24, 0xfd,
    //0xff25, 0xff,
    //0xfffe, 0x00,
    0xffc6, 0x20,//20//40//auto gammath1
    0xffc7, 0x2b,//2b//50//auto gammath2
    /////auto gamma dark/////
    0xfffe, 0x02,
    0xff26, 0x0f,
    0xff27, 0x14,
    0xff28, 0x19,
    0xff29, 0x1e,
    0xff2a, 0x27,
    0xff2b, 0x33,
    0xff2c, 0x3b,
    0xff2d, 0x45,
    0xff2e, 0x59,
    0xff2f, 0x69,
    0xff30, 0x7c,
    0xff31, 0x89,
    0xff32, 0x98,
    0xff33, 0xae,
    0xff34, 0xc0,
    0xff35, 0xcf,
    0xff36, 0xda,
    0xff37, 0xe2,
    0xff38, 0xe9,
    0xff39, 0xf3,
    0xff3a, 0xf9,
    0xff3b, 0xff,
    ///////////////////gamma2////////////////////
    ////Gamma outdoor
    //0xfffe, 0x02,
    //0xff26, 0x17,
    //0xff27, 0x18,
    //0xff28, 0x1c,
    //0xff29, 0x20,
    //0xff2a, 0x28,
    //0xff2b, 0x34,
    //0xff2c, 0x40,
    //0xff2d, 0x49,
    //0xff2e, 0x5b,
    //0xff2f, 0x6d,
    //0xff30, 0x7d,
    //0xff31, 0x89,
    //0xff32, 0x97,
    //0xff33, 0xac,
    //0xff34, 0xc0,
    //0xff35, 0xcf,
    //0xff36, 0xda,
    //0xff37, 0xe5,
    //0xff38, 0xec,
    //0xff39, 0xf8,
    //0xff3a, 0xfd,
    //0xff3b, 0xff,
    
    ///////////////////////////////////////////////      
    ///////////   YCP       ///////////////////////  
    ///////////////////////////////////////////////  
    0xfffe, 0x02,
    0xffd1, 0x32, // 
    0xffd2, 0x32, //
    0xffd3, 0x40,//45
    0xffd6, 0xf0,
    0xffd7, 0x10,
    0xffd8, 0xda,
    0xffdd, 0x14, //edge sa
    0xffde, 0x86, //asde auto gray
    0xffed, 0x80,//81//01//
    0xffee, 0x00,//3f//2b//28
    0xffef, 0x3f,//3b//38 
    0xffd8, 0xd8,//autogray protecy
    ///////////////abs////////////
    0xfffe, 0x01,
    0xff9f, 0x40,
    
    ////////////////////////////
    //////// LSC  ///////////////
    ////////////////////////////
    0xfffe, 0x01,
    0xffc2, 0x14,
    0xffc3, 0x0d,
    0xffc4, 0x0c,
    0xffc8, 0x15,
    0xffc9, 0x0d,
    0xffca, 0x0a,
    0xffbc, 0x24,
    0xffbd, 0x10,
    0xffbe, 0x0b,
    0xffb6, 0x25,
    0xffb7, 0x16,
    0xffb8, 0x15,
    0xffc5, 0x00,
    0xffc6, 0x00,
    0xffc7, 0x00,
    0xffcb, 0x00,
    0xffcc, 0x00,
    0xffcd, 0x00,
    0xffbf, 0x07,
    0xffc0, 0x00,
    0xffc1, 0x00,
    0xffb9, 0x00,
    0xffba, 0x00,
    0xffbb, 0x00,
    0xffaa, 0x01,
    0xffab, 0x01,
    0xffac, 0x00,
    0xffad, 0x05,
    0xffae, 0x06,
    0xffaf, 0x0e,
    0xffb0, 0x0b,
    0xffb1, 0x07,
    0xffb2, 0x06,
    0xffb3, 0x17,
    0xffb4, 0x0e,
    0xffb5, 0x0e,
    0xffd0, 0x09,
    0xffd1, 0x00,
    0xffd2, 0x00,
    0xffd6, 0x08,
    0xffd7, 0x00,
    0xffd8, 0x00,
    0xffd9, 0x00,
    0xffda, 0x00,
    0xffdb, 0x00,
    0xffd3, 0x0a,
    0xffd4, 0x00,
    0xffd5, 0x00,
    0xffa4, 0x00,
    0xffa5, 0x00,
    0xffa6, 0x77,
    0xffa7, 0x77,
    0xffa8, 0x77,
    0xffa9, 0x77,
    0xffa1, 0x80,
    0xffa2, 0x80,
    
    0xfffe, 0x01,
    0xffdf, 0x0d,//01//0c
    0xffdc, 0x25,//80
    0xffdd, 0x30,//50//30
    0xffe0, 0x77,
    0xffe1, 0x80,
    0xffe2, 0x77,
    0xffe3, 0x90,
    0xffe6, 0x90,
    0xffe7, 0xa0,
    0xffe8, 0x90,
    0xffe9, 0xa0,
    
    0xfffe, 0x00,
    
    /////////////////////////////////////////////////
    /////////////    AWB     ////////////////////////
    /////////////////////////////////////////////////
    0xfffe, 0x01,
    
    
    0xff4f, 0x00,
    0xff4f, 0x00,
    0xff4b, 0x01,
    0xff4f, 0x00,
                              
    0xff4c, 0x01, // D75
    0xff4d, 0x71,
    0xff4e, 0x01,
    0xff4c, 0x01,
    0xff4d, 0x91,
    0xff4e, 0x01,
    0xff4c, 0x01,
    0xff4d, 0x70,
    0xff4e, 0x01,
    
    0xff4c, 0x01, // D65
    0xff4d, 0x90,
    0xff4e, 0x02,                                    
                              
    
    0xff4c, 0x01,
    0xff4d, 0xb0,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0x8f,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0x6f,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0xaf,
    0xff4e, 0x02,
    
    0xff4c, 0x01,
    0xff4d, 0xd0,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0xf0,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0xcf,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0xef,
    0xff4e, 0x02,
    
    0xff4c, 0x01,//D50
    0xff4d, 0x6e,
    0xff4e, 0x03,
    0xff4c, 0x01, 
    0xff4d, 0x8e,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xae,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xce,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x4d,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x6d,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x8d,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xad,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xcd,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x4c,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x6c,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x8c,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xac,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xcc,
    0xff4e, 0x03,
    
    0xff4c, 0x01,
    0xff4d, 0xcb,
    0xff4e, 0x03,
    
    0xff4c, 0x01,
    0xff4d, 0x4b,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x6b,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x8b,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xab,
    0xff4e, 0x03,
    
    0xff4c, 0x01,//CWF
    0xff4d, 0x8a,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xaa,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xca,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xca,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xc9,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0x8a,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0x89,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xa9,
    0xff4e, 0x04,
    
    
    
    0xff4c, 0x02,//tl84
    0xff4d, 0x0b,
    0xff4e, 0x05,
    0xff4c, 0x02,
    0xff4d, 0x0a,
    0xff4e, 0x05,
    
    0xff4c, 0x01,
    0xff4d, 0xeb,
    0xff4e, 0x05,
    
    0xff4c, 0x01,
    0xff4d, 0xea,
    0xff4e, 0x05,
    
    0xff4c, 0x02,
    0xff4d, 0x09,
    0xff4e, 0x05,
    0xff4c, 0x02,
    0xff4d, 0x29,
    0xff4e, 0x05,
    
    0xff4c, 0x02,
    0xff4d, 0x2a,
    0xff4e, 0x05,
    
    0xff4c, 0x02,
    0xff4d, 0x4a,
    0xff4e, 0x05,
    
    //0xff4c, 0x02, //A
    //0xff4d, 0x6a,
    //0xff4e, 0x06,
    
    0xff4c, 0x02, 
    0xff4d, 0x8a,
    0xff4e, 0x06,
    
    0xff4c, 0x02,
    0xff4d, 0x49,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0x69,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0x89,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0xa9,
    0xff4e, 0x06,
    
    0xff4c, 0x02,
    0xff4d, 0x48,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0x68,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0x69,
    0xff4e, 0x06,
    
    0xff4c, 0x02,//H
    0xff4d, 0xca,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xc9,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xe9,
    0xff4e, 0x07,
    0xff4c, 0x03,
    0xff4d, 0x09,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xc8,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xe8,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xa7,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xc7,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xe7,
    0xff4e, 0x07,
    0xff4c, 0x03,
    0xff4d, 0x07,
    0xff4e, 0x07,
    
    0xff4f, 0x01,
    
    
    0xff4f, 0x01,
    0xff50, 0x80, //AWB_PRE_mode
    0xff51, 0xa8, //AWB_pre_THD_min[7:0]
    0xff52, 0x47,//57 //AWB_pre_THD_min[15:8] Dominiate luma 0.25=639c 0.22=57a8
    0xff53, 0x38, //AWB_pre_THD_min_MIX[7:0]
    0xff54, 0xc7, //AWB_pre_THD_min_MIX[15:8] Mix luma 0.5
    
    0xff56, 0x0e, //AWB_tone mode
    0xff58, 0x08, //AWB_C_num_sel,AWB_D_num_sel
    0xff5b, 0x00, //AWB_mix_mode 
    
    0xff5c, 0x74, //green_num0[7:0]
    0xff5d, 0x8b, //green_num0[15:8] 0.35
    
    0xff61, 0xdb,//a8 //R2G_stand0   OUT BA c0
    0xff62, 0xb8,//b8 //B2G_stand0       B6  c2
    0xff63, 0x86,//aa//00//88//a4 //AWB gray mode [7]enable
    0xff64, 0xc0,//80
    0xff65, 0x04, //AWB margin
    
    0xff67, 0xa8, //R2G_stand3[7:0]  FF/CWF
    0xff68, 0xb0, //B2G_stand3[7:0]
    0xff69, 0x00, //R2G_stand4[9:8] B2G_stand4[9:8] R2G_stand3[9:8] B2G_stand3[9:8]
    0xff6a, 0xa8, //R2G_stand4[7:0]  TL84/TL84&CWF
    0xff6b, 0xb0, //B2G_stand4[7:0]
    0xff6c, 0xaf, //R2G_stand5[7:0]  A
    0xff6d, 0x8b, //B2G_stand5[7:0]
    0xff6e, 0x50, //AWB_skin_weight R2G_stand5[9:8] B2G_stand5[9:8]
    0xff6f, 0x18, //AWB_indoor_THD (0x21=17 caculate)
    0xff73, 0xf0,//0f //AWB_indoor_mode
    
    0xff70, 0x0d,//10 //AWB low luma TH
    0xff71, 0x60,//e8 //AWB outdoor TH
    0xff72, 0x80,//81//c1//c0 //outdoor mode
    0xff74, 0x01, //[2:0]AWB skip mode 2x2,4x4,4x8,8x8
    0xff75, 0x01, //[1:0]AWB_every_N
    0xff7f, 0x08,//0c //[3]gray world frame start
    
    0xff76, 0x70, //R limit
    0xff77, 0x58, //G limit
    0xff78, 0xa0, //d8 //B limit
    0xff79, 0x5e,//53
    0xff7a, 0x54,
    0xff7b, 0x58,
    
    0xfffe, 0x00,
    //
    //////////////////////////////////////////
    ///////////  CC   ////////////////////////
    //////////////////////////////////////////
    0xfffe, 0x02,
    0xffc0, 0x01, //[5:4] CC mode [0]CCT enable
    
    0xffC1, 0x44,//44//50 //D50/D65
    0xffc2, 0xFd,//F4
    0xffc3, 0x04,//02 //0
    0xffc4, 0xF0,//f2//e8 //e0
    0xffc5, 0x48,//4B//44//48
    0xffc6, 0xFD,//f8//f0
    
    
    0xffC7, 0x46,//50
    0xffc8, 0xfd,//f2
    0xffc9, 0x02,//00
    0xffcA, 0xE0,
    0xffcB, 0x45,
    0xffcC, 0xec,
    
    0xffCd, 0x48,//45
    0xffce, 0xf0,
    0xffcf, 0xf0,//00
    0xffe3, 0x0c,
    0xffe4, 0x4b,
    0xffe5, 0xe0,
    
    
    0xfffe, 0x00,
    
    0xfff2, 0x00,
    
    
    //////////////frame rate   50Hz
    0xfffe, 0x00,
    0xfff7, 0x1d,
    0xfff8, 0x84,
    
    0xff03, 0x04,
    0xff04, 0xe2,
    0xff05, 0x01,//hb
    0xff06, 0x56,
    0xff07, 0x00,//Vb
    0xff08, 0x14,
    
    0xfffe, 0x01,
    
    0xff25, 0x00,
    0xff26, 0xfa, //step
    0xff27, 0x04, //20fps
    0xff28, 0xe2,
    0xff29, 0x05, //16.7fps
    0xff2a, 0xdc,
    0xff2b, 0x07,//07 //12.5fps
    0xff2c, 0xd0,//d0
    0xff2d, 0x0b, //night mode 8.3fps
    0xff2e, 0xb8,
    0xfffe, 0x00,
    
    /////////dark  sun//////
    0xfffe, 0x02,
    0xff40, 0xbf,
    0xff46, 0xcf,
    0xfffe, 0x00,
    
    //******************MIPI*******************
    0xfffe, 0x03,  //page 3
    0xff01, 0x83, 
    0xff02, 0x22,  //37//07
    0xff03, 0x10,  //10
    0xff04, 0x10,  // fifo_prog 
    0xff05, 0x00,  //fifo_prog 
    0xff06, 0x88,  //YUV ISP data  
    0xff10, 0x94, //94 // last bit  lane num 
    0xff11, 0x1e,  //LDI set YUV422
    0xff12, 0x80, //04 //00 //04//00 //LWC[7:0]  //
    0xff13, 0x0c, //05 //LWC[15:8]
    0xff15, 0x12,  //DPHYY_MODE read_ready 
    0xff17, 0xf0,  //ff  01wdiv set 
    0xfffe, 0x00,
};

static STRU_CAMERA_REG_VALUE  GC2145MIPI_1Lane_SVGA[] = 
{
    /////////////800x600////////////
    0xfffd, 0x01, //scaler
    0xffc2, 0x00,
    
    ////// crop window
    0xfffe, 0x00,
    0xff1c, 0x07,
    0xff90, 0x01, //crop
    0xff91, 0x00,
    0xff92, 0x00,
    0xff93, 0x00,
    0xff94, 0x00,
    0xff95, 0x02,
    0xff96, 0x58,
    0xff97, 0x03,
    0xff98, 0x20,
    0xff99, 0x11, //subsample
    
    0xff9a, 0x06,
    0xfffe, 0x00,
    0xffec, 0x02, //measure window
    0xffed, 0x02,
    0xffee, 0x30,
    0xffef, 0x48,
    0xfffe, 0x02,
    0xff9d, 0x08,//0b
    0xfffe, 0x01,
    0xff74, 0x00, //[2:0]awb skip:2x2
    
    0xff01, 0x04,
    0xff02, 0x60,
    0xff03, 0x02,
    0xff04, 0x48,
    0xff05, 0x18,
    0xff06, 0x50,
    0xff07, 0x10,
    0xff08, 0x38,
    0xff0a, 0x80, //[1:0]AEC skip
    0xff21, 0x04,
    0xfffe, 0x00,
    
    //******************MIPI*******************
    0xfffe, 0x03,  //page 3
    0xff01, 0x83, 
    0xff02, 0x22,  //37//07
    0xff03, 0x10,  //10
    0xff04, 0x10,  // fifo_prog 
    0xff05, 0x00,  //fifo_prog 
    0xff06, 0x88,  //YUV ISP data  
    0xff10, 0x94, //94 // last bit  lane num 
    0xff11, 0x1e,  //LDI set YUV422
    0xff12, 0x40, //04 //00 //04//00 //LWC[7:0]  //
    0xff13, 0x06, //05 //LWC[15:8]
    0xff15, 0x12,  //DPHYY_MODE read_ready 
    0xff17, 0xf0,  //ff  01wdiv set 
    0xfffe, 0x00,
    0xfffa, 0x00,
};

static STRU_CAMERA_REG_VALUE  GC2145MIPI_2Lane[] = 
{
    /////////////p sub
    //////// gain 8.8x
    /////////a gain 4x
    /////////d gain 2.2x
    0xfffe, 0xf0,
    0xfffe, 0xf0,
    0xfffe, 0xf0,
    
    0xfffc, 0x06,
    0xfff6, 0x00,
    
    0xfff7, 0x1d, //37 //17 //37 //1d//05
    0xfff8, 0x84, //87 //83 //82
    0xfffa, 0x00,
    0xfff9, 0x8e, //ff
    
    0xfff2, 0x00,
    
    //////////////////////////////////////////////////////
    ////////////////////  Analog & Cisctl ////////////////
    //////////////////////////////////////////////////////
    0xfffe, 0x00,
    
    0xff03, 0x04, //exp time
    0xff04, 0x00, //exp time
    
    0xff05, 0x01, //00 //hb[11:8]
    0xff06, 0x68, //0b //hb
    
    0xff09, 0x00, //row start
    0xff0a, 0x00, //
    0xff0b, 0x00, //col start
    0xff0c, 0x00,
    0xff0d, 0x04, //height
    0xff0e, 0xc0,
    0xff0f, 0x06, //width
    0xff10, 0x52,
     
    0xff12, 0x2e, //sh_delay 太短 YUV出图异常
    0xff17, 0x14, //CISCTL Mode1 [1:0]mirror flip
    0xff18, 0x22, //sdark mode
    0xff19, 0x0e, //0f// AD pipe number
    0xff1a, 0x01, //AD manual switch mode
    
    0xff1b, 0x4b, //48 restg Width,SH width
    0xff1c, 0x07, //06  帧率快后，横条纹 //12 //TX Width,Space Width
    0xff1d, 0x10, //double reset
    0xff1e, 0x88,//90//98 //fix  竖线//Analog Mode1,TX high,Coln_r
    0xff1f, 0x78, //78 //38 //18 //Analog Mode2,txlow
    0xff20, 0x03, //07 //Analog Mode3,comv,ad_clk mode
    0xff21, 0x40,//10//20//40 //fix 灯管横条纹
    0xff22, 0xa0,//d0//f0 //a2 //Vref vpix  FPN严重
    0xff24, 0x16, //Pad drv
    0xff25, 0x01, //col sel
    0xff26, 0x10, //Analog PGA gain1
    0xff2d, 0x60,//40//40 //txl drv mode
    0xff30, 0x01, //Analog Mode4 
    0xff31, 0x90,//b0//70 // Analog Mode7 [7:5]rsgh_r灯管横条纹[4:3]isp_g
    0xff33, 0x06,//03//02//01 //EQ_hstart_width
    0xff34, 0x01,
    //
    ///////////////////////////////////////////////////
    ////////////////////  ISP reg  //////////////////////
    //////////////////////////////////////////////////////
    0xff80, 0x7f,//ff //outdoor gamma_en, GAMMA_en, CC_en, EE_en, INTP_en, DN_en, DD_en,LSC_en
    0xff81, 0x26,//24 //BLK dither mode, ll_y_en ,skin_en, edge SA, new_skin_mode, autogray_en,ll_gamma_en,BFF test image
    0xff82, 0xfa, //FA //auto_SA, auto_EE, auto_DN, auto_DD, auto_LSC, ABS_en, AWB_en, NA
    0xff83, 0x00, //special_effect
    0xff84, 0x01, //output format
    0xff86, 0x06, //c2 //46 //c2 //sync mode
    0xff88, 0x03, //[1]ctl_auto_gating [0]out_auto_gating
    0xff89, 0x03, //bypass disable
    0xff85, 0x08,//04//30 //60//frame start cut
    0xff8a, 0x00, //ISP_quiet_mode,close aaa pclk,BLK gate mode,exception,close first pipe clock,close dndd clock,close intp clock,DIV_gatedclk_en
    0xff8b, 0x00, //[7:6]BFF_gate_mode,[5]BLK switch gain,[4]protect exp,[3:2]pipe gate mode,[1]not split sram,[0]dark current update
    
    0xffb0, 0x55,//60 //global gain
    0xffc3, 0x00, //[7:4]auto_exp_gamma_th1[11:8],[3:0]auto_exp_gamma_th2[11:8]
    0xffc4, 0x80, //auto_exp_gamma_th1[7:0] into 
    0xffc5, 0x90, //auto_exp_gamma_th2[7:0] out //outdoor gamma
    0xffc6, 0x3b,//38 //auto_gamma_th1 
    0xffc7, 0x46,//40 //auto_gamma_th2
    
    0xffec, 0x06,  //measure window
    0xffed, 0x04,
    0xffee, 0x60, //16  col
    0xffef, 0x90, //8  row
    
    0xffb6, 0x01, //[0]aec en
    
    0xff90, 0x01, //crop
    0xff91, 0x00,
    0xff92, 0x00,
    0xff93, 0x00,
    0xff94, 0x00, //08
    0xff95, 0x04,
    0xff96, 0xb0,
    0xff97, 0x06,
    0xff98, 0x40,
    
    ///////////////////////////////////////////////
    ///////////  BLK ////////////////////////
    ///////////////////////////////////////////////
    0xff40, 0x42, //2b //27
    0xff41, 0x00, //80 //dark row sel
    0xff43, 0x5b,//58//54 //[7:4]BLK start not smooth  [3:0]output start frame
    
    0xff5e, 0x00,//00//10 //18
    0xff5f, 0x00,//00//10 //18
    0xff60, 0x00,//00//10 //18
    0xff61, 0x00,//00///10 //18
    0xff62, 0x00,//00//10 //18
    0xff63, 0x00,//00//10 //18
    0xff64, 0x00,//00/10 //18
    0xff65, 0x00,//00//10 //18
    0xff66, 0x20,//1e
    0xff67, 0x20,//1e 
    0xff68, 0x20,//1e 
    0xff69, 0x20,//1e
    
    0xff76, 0x00,//0f
    
    0xff6a, 0x08,
    0xff6b, 0x08,
    0xff6c, 0x08,
    0xff6d, 0x08,
    0xff6e, 0x08,
    0xff6f, 0x08,
    0xff70, 0x08,
    0xff71, 0x08, //manual offset
    
    0xff76, 0x00,//1f//add offset
    0xff72, 0xf0, //[7:4]BLK DD th [3:0]BLK various th
    0xff7e, 0x3c, //ndark
    0xff7f, 0x00, 
    
    0xfffe, 0x02,
    0xff48, 0x15,
    0xff49, 0x00,//04//04 //ASDE OFFSET SLOPE 
    0xff4b, 0x0b, //ASDE y OFFSET SLOPE
    0xfffe, 0x00,
    
    ///////////////////////////////////////////////
    /////////// AEC ////////////////////////
    ///////////////////////////////////////////////
    0xfffe, 0x01,
    
    0xff01, 0x04, //AEC X1
    0xff02, 0xc0, //AEC X2
    0xff03, 0x04, //AEC Y1
    0xff04, 0x90, //AEC Y2
    0xff05, 0x30, //20 //AEC center X1
    0xff06, 0x90, //40 //AEC center X2
    0xff07, 0x30, //30 //AEC center Y1
    0xff08, 0x80, //60 //AEC center Y2
    
    0xff09, 0x00, //AEC show mode
    0xff0a, 0x82,//c2 //[7]col gain enable
    0xff0b, 0x11, //AEC every N
    0xff0c, 0x10, //AEC_mode3 center weight 
    0xff11, 0x10,//
    0xff13, 0x7b,//75//30//2a //AEC Y target
    0xff17, 0x00, //AEC ignore mode
    0xff1c, 0x11, //
    0xff1e, 0x61, //
    0xff1f, 0x35,//30//40//50 //max pre gain
    0xff20, 0x40,//60//40 //max post gain
    0xff22, 0x40,//80 //AEC outdoor THD
    0xff23, 0x20, //target_Y_low_limit
    0xfffe, 0x02,
    0xff0f, 0x04,//05//04//05  
    0xfffe, 0x01,
    
    0xff12, 0x35, //35 //[5:4]group_size [3]slope_disable [2]outdoor_enable [0]histogram_enable
    0xff15, 0xb0, //target_Y_high_limit
    0xff10, 0x31, //num_thd_high
    0xff3e, 0x28, //num_thd_low
    0xff3f, 0xb0, //luma_thd
    0xff40, 0x90, //luma_slope
    0xff41, 0x0f, //color_diff
    
    /////////////////////////////
    //////// INTPEE /////////////
    /////////////////////////////
    0xfffe, 0x02, //page2
    0xff90, 0x6c, //ac //eeintp mode1
    0xff91, 0x03,//02 ////eeintp mode2
    0xff92, 0xcb,//64//c8//44 //low criteria for direction
    0xff94, 0x33,//66
    0xff95, 0x84,//b5
    0xff97, 0x65,//78 ////edge effect
    0xffa2, 0x11, //fix direction
    0xfffe, 0x00,
    
    /////////////////////////////
    //////// DNDD///////////////
    /////////////////////////////
    0xfffe, 0x02,
    0xff80, 0xc1, //c1 //[7]share mode [6]skin mode  [5]is 5x5 mode [1:0]noise value select 0:2  1:2.5  2:3  3:4
    0xff81, 0x08, //
    0xff82, 0x05,//08 //signal a 0.6
    0xff83, 0x08,//05//04 //signal b 2.5
    
    0xff84, 0x0a, //10 //05 dark_DD_TH
    0xff86, 0xf0, //a0 Y_value_dd_th2
    0xff87, 0x50, //30//90 Y_value_dd_th3
    0xff88, 0x15, //60 Y_value_dd_th4
    
    0xff89, 0xb0, //80  // asde th2
    0xff8a, 0x30, //60  // asde th3
    0xff8b, 0x10, //30  // asde th4
    
    /////////////////////////////////////////////////
    ///////////// ASDE ////////////////////////
    /////////////////////////////////////////////////
    0xfffe, 0x01, //page 1
    0xff21, 0x04, //14//luma_value_div_sel(分频，与0xef呈2倍关系，增大1，0xef的值减小1倍)
    //0xffef  luma_value read_only
    
    0xfffe, 0x02, //page2
    0xffa3, 0x50,//40 //ASDE_low_luma_value_LSC_th_H
    0xffa4, 0x20, //ASDE_low_luma_value_LSC_th_L
    
    0xffa5, 0x40, //80 //ASDE_LSC_gain_dec_slope_H
    0xffa6, 0x80, // 80 //ASDE_LSC_gain_dec_slope_L
    //ffa7  ASDE_LSC_gain_dec  //read only
    
    0xffab, 0x40,//50 //ASDE_low_luma_value_OT_th 
    
    0xffae, 0x0c, //[3]EE1_effect_inc_or_dec_high,[2]EE2_effect_inc_or_dec_high,
             //[1]EE1_effect_inc_or_dec_low,[0]EE2_effect_inc_or_dec_low,  1:inc  0:dec
    
    0xffb3, 0x46,//34//44 //ASDE_EE1_effect_slope_low,ASDE_EE2_effect_slope_low
    0xffb4, 0x64,//44 //12 //ASDE_EE1_effect_slope_high,ASDE_EE2_effect_slope_high
    
    0xffb6, 0x38,//40//40 //ASDE_auto_saturation_dec_slope 
    0xffb7, 0x01,//02 //ASDE_sub_saturation_slope
    0xffb9, 0x2b,//28//32 //[7:0]ASDE_auto_saturation_low_limit
    0xff3c, 0x04,//08//[3:0]auto gray_dec_slope
    0xff3d, 0x15,//20//30//[7:0]auto gray_dec_th
    
    
    0xff4b, 0x06,//08//0d//y offset slope
    0xff4c, 0x20,//y offset limit
    
    0xfffe, 0x00,
    //
    ///////////////////gamma1////////////////////
    ////Gamma
    
    0xfffe, 0x02,
    0xff10, 0x09,//10
    0xff11, 0x0d,//15
    0xff12, 0x13,//1a
    0xff13, 0x19,//1f
    0xff14, 0x27,//2c
    0xff15, 0x37,//39
    0xff16, 0x45,//45
    0xff17, 0x53,//54
    0xff18, 0x69,
    0xff19, 0x7d,
    0xff1a, 0x8f,
    0xff1b, 0x9d,
    0xff1c, 0xa9,
    0xff1d, 0xbd,
    0xff1e, 0xcd,
    0xff1f, 0xd9,
    0xff20, 0xe3,
    0xff21, 0xea,
    0xff22, 0xef,
    0xff23, 0xf5,
    0xff24, 0xf9,
    0xff25, 0xff,
    
    //0xfffe, 0x02,
    //0xff10, 0x0a,
    //0xff11, 0x12,
    //0xff12, 0x19,
    //0xff13, 0x1f,
    //0xff14, 0x2c,
    //0xff15, 0x38,
    //0xff16, 0x42,
    //0xff17, 0x4e,
    //0xff18, 0x63,
    //0xff19, 0x76,
    //0xff1a, 0x87,
    //0xff1b, 0x96,
    //0xff1c, 0xa2,
    //0xff1d, 0xb8,
    //0xff1e, 0xcb,
    //0xff1f, 0xd8,
    //0xff20, 0xe2,
    //0xff21, 0xe9,
    //0xff22, 0xf0,
    //0xff23, 0xf8,
    //0xff24, 0xfd,
    //0xff25, 0xff,
    //0xfffe, 0x00,
    0xffc6, 0x20,//20//40//auto gammath1
    0xffc7, 0x2b,//2b//50//auto gammath2
    /////auto gamma dark/////
    0xfffe, 0x02,
    0xff26, 0x0f,
    0xff27, 0x14,
    0xff28, 0x19,
    0xff29, 0x1e,
    0xff2a, 0x27,
    0xff2b, 0x33,
    0xff2c, 0x3b,
    0xff2d, 0x45,
    0xff2e, 0x59,
    0xff2f, 0x69,
    0xff30, 0x7c,
    0xff31, 0x89,
    0xff32, 0x98,
    0xff33, 0xae,
    0xff34, 0xc0,
    0xff35, 0xcf,
    0xff36, 0xda,
    0xff37, 0xe2,
    0xff38, 0xe9,
    0xff39, 0xf3,
    0xff3a, 0xf9,
    0xff3b, 0xff,
    ///////////////////gamma2////////////////////
    ////Gamma outdoor
    //0xfffe, 0x02,
    //0xff26, 0x17,
    //0xff27, 0x18,
    //0xff28, 0x1c,
    //0xff29, 0x20,
    //0xff2a, 0x28,
    //0xff2b, 0x34,
    //0xff2c, 0x40,
    //0xff2d, 0x49,
    //0xff2e, 0x5b,
    //0xff2f, 0x6d,
    //0xff30, 0x7d,
    //0xff31, 0x89,
    //0xff32, 0x97,
    //0xff33, 0xac,
    //0xff34, 0xc0,
    //0xff35, 0xcf,
    //0xff36, 0xda,
    //0xff37, 0xe5,
    //0xff38, 0xec,
    //0xff39, 0xf8,
    //0xff3a, 0xfd,
    //0xff3b, 0xff,
    
    ///////////////////////////////////////////////      
    ///////////   YCP       ///////////////////////  
    ///////////////////////////////////////////////  
    0xfffe, 0x02,
    0xffd1, 0x32, // 
    0xffd2, 0x32, //
    0xffd3, 0x40,//45
    0xffd6, 0xf0,
    0xffd7, 0x10,
    0xffd8, 0xda,
    0xffdd, 0x14, //edge sa
    0xffde, 0x86, //asde auto gray
    0xffed, 0x80,//81//01//
    0xffee, 0x00,//3f//2b//28
    0xffef, 0x3f,//3b//38 
    0xffd8, 0xd8,//autogray protecy
    ///////////////abs////////////
    0xfffe, 0x01,
    0xff9f, 0x40,
    
    ////////////////////////////
    //////// LSC  ///////////////
    ////////////////////////////
    0xfffe, 0x01,
    0xffc2, 0x14,
    0xffc3, 0x0d,
    0xffc4, 0x0c,
    0xffc8, 0x15,
    0xffc9, 0x0d,
    0xffca, 0x0a,
    0xffbc, 0x24,
    0xffbd, 0x10,
    0xffbe, 0x0b,
    0xffb6, 0x25,
    0xffb7, 0x16,
    0xffb8, 0x15,
    0xffc5, 0x00,
    0xffc6, 0x00,
    0xffc7, 0x00,
    0xffcb, 0x00,
    0xffcc, 0x00,
    0xffcd, 0x00,
    0xffbf, 0x07,
    0xffc0, 0x00,
    0xffc1, 0x00,
    0xffb9, 0x00,
    0xffba, 0x00,
    0xffbb, 0x00,
    0xffaa, 0x01,
    0xffab, 0x01,
    0xffac, 0x00,
    0xffad, 0x05,
    0xffae, 0x06,
    0xffaf, 0x0e,
    0xffb0, 0x0b,
    0xffb1, 0x07,
    0xffb2, 0x06,
    0xffb3, 0x17,
    0xffb4, 0x0e,
    0xffb5, 0x0e,
    0xffd0, 0x09,
    0xffd1, 0x00,
    0xffd2, 0x00,
    0xffd6, 0x08,
    0xffd7, 0x00,
    0xffd8, 0x00,
    0xffd9, 0x00,
    0xffda, 0x00,
    0xffdb, 0x00,
    0xffd3, 0x0a,
    0xffd4, 0x00,
    0xffd5, 0x00,
    0xffa4, 0x00,
    0xffa5, 0x00,
    0xffa6, 0x77,
    0xffa7, 0x77,
    0xffa8, 0x77,
    0xffa9, 0x77,
    0xffa1, 0x80,
    0xffa2, 0x80,
    
    0xfffe, 0x01,
    0xffdf, 0x0d,//01//0c
    0xffdc, 0x25,//80
    0xffdd, 0x30,//50//30
    0xffe0, 0x77,
    0xffe1, 0x80,
    0xffe2, 0x77,
    0xffe3, 0x90,
    0xffe6, 0x90,
    0xffe7, 0xa0,
    0xffe8, 0x90,
    0xffe9, 0xa0,
    
    0xfffe, 0x00,
    
    /////////////////////////////////////////////////
    /////////////    AWB     ////////////////////////
    /////////////////////////////////////////////////
    0xfffe, 0x01,
    
    
    0xff4f, 0x00,
    0xff4f, 0x00,
    0xff4b, 0x01,
    0xff4f, 0x00,
                                      
    0xff4c, 0x01, // D75
    0xff4d, 0x71,
    0xff4e, 0x01,
    0xff4c, 0x01,
    0xff4d, 0x91,
    0xff4e, 0x01,
    0xff4c, 0x01,
    0xff4d, 0x70,
    0xff4e, 0x01,
    
    0xff4c, 0x01, // D65
    0xff4d, 0x90,
    0xff4e, 0x02,                                    
                                      
    
    0xff4c, 0x01,
    0xff4d, 0xb0,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0x8f,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0x6f,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0xaf,
    0xff4e, 0x02,
    
    0xff4c, 0x01,
    0xff4d, 0xd0,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0xf0,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0xcf,
    0xff4e, 0x02,
    0xff4c, 0x01,
    0xff4d, 0xef,
    0xff4e, 0x02,
    
    0xff4c, 0x01,//D50
    0xff4d, 0x6e,
    0xff4e, 0x03,
    0xff4c, 0x01, 
    0xff4d, 0x8e,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xae,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xce,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x4d,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x6d,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x8d,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xad,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xcd,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x4c,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x6c,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x8c,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xac,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xcc,
    0xff4e, 0x03,
    
    0xff4c, 0x01,
    0xff4d, 0xcb,
    0xff4e, 0x03,
    
    0xff4c, 0x01,
    0xff4d, 0x4b,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x6b,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0x8b,
    0xff4e, 0x03,
    0xff4c, 0x01,
    0xff4d, 0xab,
    0xff4e, 0x03,
    
    0xff4c, 0x01,//CWF
    0xff4d, 0x8a,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xaa,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xca,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xca,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xc9,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0x8a,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0x89,
    0xff4e, 0x04,
    0xff4c, 0x01,
    0xff4d, 0xa9,
    0xff4e, 0x04,
    
    
    
    0xff4c, 0x02,//tl84
    0xff4d, 0x0b,
    0xff4e, 0x05,
    0xff4c, 0x02,
    0xff4d, 0x0a,
    0xff4e, 0x05,
    
    0xff4c, 0x01,
    0xff4d, 0xeb,
    0xff4e, 0x05,
    
    0xff4c, 0x01,
    0xff4d, 0xea,
    0xff4e, 0x05,
    
    0xff4c, 0x02,
    0xff4d, 0x09,
    0xff4e, 0x05,
    0xff4c, 0x02,
    0xff4d, 0x29,
    0xff4e, 0x05,
    
    0xff4c, 0x02,
    0xff4d, 0x2a,
    0xff4e, 0x05,
    
    0xff4c, 0x02,
    0xff4d, 0x4a,
    0xff4e, 0x05,
    
    //0xff4c, 0x02, //A
    //0xff4d, 0x6a,
    //0xff4e, 0x06,
    
    0xff4c, 0x02, 
    0xff4d, 0x8a,
    0xff4e, 0x06,
    
    0xff4c, 0x02,
    0xff4d, 0x49,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0x69,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0x89,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0xa9,
    0xff4e, 0x06,
    
    0xff4c, 0x02,
    0xff4d, 0x48,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0x68,
    0xff4e, 0x06,
    0xff4c, 0x02,
    0xff4d, 0x69,
    0xff4e, 0x06,
    
    0xff4c, 0x02,//H
    0xff4d, 0xca,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xc9,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xe9,
    0xff4e, 0x07,
    0xff4c, 0x03,
    0xff4d, 0x09,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xc8,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xe8,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xa7,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xc7,
    0xff4e, 0x07,
    0xff4c, 0x02,
    0xff4d, 0xe7,
    0xff4e, 0x07,
    0xff4c, 0x03,
    0xff4d, 0x07,
    0xff4e, 0x07,
    
    0xff4f, 0x01,
    
    
    0xff4f, 0x01,
    0xff50, 0x80, //AWB_PRE_mode
    0xff51, 0xa8, //AWB_pre_THD_min[7:0]
    0xff52, 0x47,//57 //AWB_pre_THD_min[15:8] Dominiate luma 0.25=639c 0.22=57a8
    0xff53, 0x38, //AWB_pre_THD_min_MIX[7:0]
    0xff54, 0xc7, //AWB_pre_THD_min_MIX[15:8] Mix luma 0.5
    
    0xff56, 0x0e, //AWB_tone mode
    0xff58, 0x08, //AWB_C_num_sel,AWB_D_num_sel
    0xff5b, 0x00, //AWB_mix_mode 
    
    0xff5c, 0x74, //green_num0[7:0]
    0xff5d, 0x8b, //green_num0[15:8] 0.35
    
    0xff61, 0xdb,//a8 //R2G_stand0   OUT BA c0
    0xff62, 0xb8,//b8 //B2G_stand0       B6  c2
    0xff63, 0x86,//aa//00//88//a4 //AWB gray mode [7]enable
    0xff64, 0xc0,//80
    0xff65, 0x04, //AWB margin
    
    0xff67, 0xa8, //R2G_stand3[7:0]  FF/CWF
    0xff68, 0xb0, //B2G_stand3[7:0]
    0xff69, 0x00, //R2G_stand4[9:8] B2G_stand4[9:8] R2G_stand3[9:8] B2G_stand3[9:8]
    0xff6a, 0xa8, //R2G_stand4[7:0]  TL84/TL84&CWF
    0xff6b, 0xb0, //B2G_stand4[7:0]
    0xff6c, 0xaf, //R2G_stand5[7:0]  A
    0xff6d, 0x8b, //B2G_stand5[7:0]
    0xff6e, 0x50, //AWB_skin_weight R2G_stand5[9:8] B2G_stand5[9:8]
    0xff6f, 0x18, //AWB_indoor_THD (0x21=17 caculate)
    0xff73, 0xf0,//e0//0f //AWB_indoor_mode
    
    0xff70, 0x0d,//10 //AWB low luma TH
    0xff71, 0x60,//e8 //AWB outdoor TH
    0xff72, 0x80,//81//c1//c0 //outdoor mode
    0xff74, 0x01, //[2:0]AWB skip mode 2x2,4x4,4x8,8x8
    0xff75, 0x01, //[1:0]AWB_every_N
    0xff7f, 0x08,//0c //[3]gray world frame start
    
    0xff76, 0x70, //R limit
    0xff77, 0x58, //G limit
    0xff78, 0xa0, //d8 //B limit
    0xff79, 0x5e,//53
    0xff7a, 0x54,
    0xff7b, 0x58,
    
    0xfffe, 0x00,
    //
    //////////////////////////////////////////
    ///////////  CC   ////////////////////////
    //////////////////////////////////////////
    0xfffe, 0x02,
    0xffc0, 0x01, //[5:4] CC mode [0]CCT enable
    
    0xffC1, 0x44,//44//50 //D50/D65
    0xffc2, 0xFd,//F4
    0xffc3, 0x04,//02 //0
    0xffc4, 0xF0,//f2//e8 //e0
    0xffc5, 0x48,//4B//44//48
    0xffc6, 0xFD,//f8//f0
    
    
    0xffC7, 0x46,//50
    0xffc8, 0xfd,//f2
    0xffc9, 0x02,//00
    0xffcA, 0xE0,
    0xffcB, 0x45,
    0xffcC, 0xec,
    
    0xffCd, 0x48,//45
    0xffce, 0xf0,
    0xffcf, 0xf0,//00
    0xffe3, 0x0c,
    0xffe4, 0x4b,
    0xffe5, 0xe0,
    
    
    0xfffe, 0x00,
    
    0xfff2, 0x00,
    
    
    //////////////frame rate   50Hz
    0xfffe, 0x00,
    0xfff7, 0x1d,
    0xfff8, 0x84,
    
    0xff03, 0x04,
    0xff04, 0xe2,
    0xff05, 0x01,//hb
    0xff06, 0x56,
    0xff07, 0x00,//Vb
    0xff08, 0x14,
    
    0xfffe, 0x01,
    
    0xff25, 0x00,
    0xff26, 0xfa, //step
    0xff27, 0x04, //20fps
    0xff28, 0xe2,
    0xff29, 0x05, //16.7fps
    0xff2a, 0xdc,
    0xff2b, 0x07,//07 //12.5fps
    0xff2c, 0xd0,//d0
    0xff2d, 0x0b, //night mode 8.3fps
    0xff2e, 0xb8,
    0xfffe, 0x00,
    
    /////////dark  sun////// 
    0xfffe, 0x02,
    0xff40, 0xbf,
    0xff46, 0xcf,
    0xfffe, 0x00,
    
    //******************MIPI*******************
    0xfffe, 0x03,  //page 3
    0xff01, 0x87, 
    0xff02, 0x22,  //37//07
    0xff03, 0x10,  //10
    0xff04, 0x10,  // fifo_prog 
    0xff05, 0x00,  //fifo_prog 
    0xff06, 0x88,  //YUV ISP data  
    0xff10, 0x95, //94 // last bit  lane num 
    0xff11, 0x1e,  //LDI set YUV422
    0xff12, 0x80, //04 //00 //04//00 //LWC[7:0]  //
    0xff13, 0x0c, //05 //LWC[15:8]
    0xff15, 0x12,  //DPHYY_MODE read_ready 
    0xff17, 0xf0,  //ff  01wdiv set 
    0xfffe, 0x00,

};

static STRU_CAMERA_REG_VALUE  GC2145MIPI_2Lane_SVGA[] = 
{
    /////////////800x600////////////
    0xfffd, 0x01, //scaler
    0xffc2, 0x00,
    
    ////// crop window
    0xfffe, 0x00,
    0xff1c, 0x07,
    0xff90, 0x01, //crop
    0xff91, 0x00,
    0xff92, 0x00,
    0xff93, 0x00,
    0xff94, 0x00,
    0xff95, 0x02,
    0xff96, 0x58,
    0xff97, 0x03,
    0xff98, 0x20,
    0xff99, 0x11, //subsample
    
    0xff9a, 0x06,
    0xfffe, 0x00,
    0xffec, 0x02, //measure window
    0xffed, 0x02,
    0xffee, 0x30,
    0xffef, 0x48,
    0xfffe, 0x02,
    0xff9d, 0x08,//0b
    0xfffe, 0x01,
    0xff74, 0x00, //[2:0]awb skip:2x2
    
    0xff01, 0x04,
    0xff02, 0x60,
    0xff03, 0x02,
    0xff04, 0x48,
    0xff05, 0x18,
    0xff06, 0x50,
    0xff07, 0x10,
    0xff08, 0x38,
    0xff0a, 0x80, //[1:0]AEC skip
    0xff21, 0x04,
    0xfffe, 0x00,
    
    //******************MIPI*******************
    0xfffe, 0x03,  //page 3
    0xff01, 0x87, 
    0xff02, 0x22,  //37//07
    0xff03, 0x10,  //10
    0xff04, 0x90,  // fifo_prog 
    0xff05, 0x01,  //fifo_prog 
    0xff06, 0x88,  //YUV ISP data  
    0xff10, 0x95, //94 // last bit  lane num 
    0xff11, 0x1e,  //LDI set YUV422
    0xff12, 0x40, //04 //00 //04//00 //LWC[7:0]  //
    0xff13, 0x06, //05 //LWC[15:8]
    0xff15, 0x12,  //DPHYY_MODE read_ready 
    0xff17, 0xf0,  //ff  01wdiv set 
    0xfffe, 0x00,
    0xfffa, 0x00,
};

static STRU_CAMERA_REG_VALUE  GC2145DVP[] = 
{
    /////////////p sub
    //////// gain 8.8x
    /////////a gain 4x
    /////////d gain 2.2x
    0xfe, 0xf0,
    0xfe, 0xf0,
    0xfe, 0xf0,
    
    0xfc, 0x06,
    0xf6, 0x00,
    
    0xf7, 0x1d, //37 //17 //37 //1d//05
    0xf8, 0x84, //87 //83 //82
    0xfa, 0x00,
    0xf9, 0xfe, //ff
    0xfd, 0x00,
    0xc2, 0x00,
    0xf2, 0x0f,
    //////////////////////////////////////////////////////
    ////////////////////  Analog & Cisctl ////////////////
    //////////////////////////////////////////////////////
    0xfe, 0x00,
    
    0x03, 0x04, //exp time
    0x04, 0x00, //exp time
    
    0x05, 0x01, //00 //hb[11:8]
    0x06, 0x68, //0b //hb
    
    0x09, 0x00, //row start
    0x0a, 0x00, //
    0x0b, 0x00, //col start
    0x0c, 0x00,
    0x0d, 0x04, //height
    0x0e, 0xc0,
    0x0f, 0x06, //width
    0x10, 0x52,
     
    0x12, 0x2e, //sh_delay 太短 YUV出图异常
    0x17, 0x14, //CISCTL Mode1 [1:0]mirror flip
    0x18, 0x22, //sdark mode
    0x19, 0x0e, //0f// AD pipe number
    0x1a, 0x01, //AD manual switch mode
    
    0x1b, 0x4b, //48 restg Width,SH width
    0x1c, 0x07, //06  帧率快后，横条纹 //12 //TX Width,Space Width
    0x1d, 0x10, //double reset
    0x1e, 0x88,//90//98 //fix  竖线//Analog Mode1,TX high,Coln_r
    0x1f, 0x78, //78 //38 //18 //Analog Mode2,txlow
    0x20, 0x03, //07 //Analog Mode3,comv,ad_clk mode
    0x21, 0x40,//10//20//40 //fix 灯管横条纹
    0x22, 0xdc, //a0//f0//d0//f0 //a2 //Vref vpix  FPN严重
    0x24, 0x16, //Pad drv
    0x25, 0x01, //col sel
    0x26, 0x10, //Analog PGA gain1
    0x2d, 0x60,//40//40 //txl drv mode
    0x30, 0x01, //Analog Mode4 
    0x31, 0x90,//b0//70 // Analog Mode7 [7:5]rsgh_r灯管横条纹[4:3]isp_g
    0x33, 0x06,//03//02//01 //EQ_hstart_width
    0x34, 0x01,
    //
    ///////////////////////////////////////////////////
    ////////////////////  ISP reg  //////////////////////
    //////////////////////////////////////////////////////
    0x80, 0x7f,//ff //outdoor gamma_en, GAMMA_en, CC_en, EE_en, INTP_en, DN_en, DD_en,LSC_en
    0x81, 0x26,//24 //BLK dither mode, ll_y_en ,skin_en, edge SA, new_skin_mode, autogray_en,ll_gamma_en,BFF test image
    0x82, 0xfa, //FA //auto_SA, auto_EE, auto_DN, auto_DD, auto_LSC, ABS_en, AWB_en, NA
    0x83, 0x00, //special_effect
    //0x84, 0x01, //output format
    0x84, 0x00, //output format
    0x86, 0x06, //c2 //46 //c2 //sync mode
    0x88, 0x03, //[1]ctl_auto_gating [0]out_auto_gating
    0x89, 0x03, //bypass disable
    0x85, 0x08,//04 //30 //60//frame start cut
    0x8a, 0x00, //ISP_quiet_mode,close aaa pclk,BLK gate mode,exception,close first pipe clock,close dndd clock,close intp clock,DIV_gatedclk_en
    0x8b, 0x00, //[7:6]BFF_gate_mode,[5]BLK switch gain,[4]protect exp,[3:2]pipe gate mode,[1]not split sram,[0]dark current update
    
    0xb0, 0x55,//60 //global gain
    0xc3, 0x00, //[7:4]auto_exp_gamma_th1[11:8],[3:0]auto_exp_gamma_th2[11:8]
    0xc4, 0x80, //auto_exp_gamma_th1[7:0] into 
    0xc5, 0x90, //auto_exp_gamma_th2[7:0] out //outdoor gamma
    0xc6, 0x3b,//38 //auto_gamma_th1 
    0xc7, 0x46,//40 //auto_gamma_th2
    
    0xec, 0x06,  //measure window
    0xed, 0x04,
    0xee, 0x60, //16  col
    0xef, 0x90, //8  row
    
    0xb6, 0x01, //[0]aec en
    
    0x90, 0x01, //crop
    0x91, 0x00,
    0x92, 0x00,
    0x93, 0x00,
    0x94, 0x00, //08
    0x95, 0x04,
    0x96, 0xb0,
    0x97, 0x06,
    0x98, 0x40,
    
    ///////////////////////////////////////////////
    ///////////  BLK ////////////////////////
    ///////////////////////////////////////////////
    0x40, 0x42, //2b //27
    0x41, 0x00, //80 //dark row sel
    0x43, 0x5b,//58 //54 //[7:4]BLK start not smooth  [3:0]output start frame
    
    0x5e, 0x00,//00//10 //18
    0x5f, 0x00,//00//10 //18
    0x60, 0x00,//00//10 //18
    0x61, 0x00,//00///10 //18
    0x62, 0x00,//00//10 //18
    0x63, 0x00,//00//10 //18
    0x64, 0x00,//00/10 //18
    0x65, 0x00,//00//10 //18
    0x66, 0x20,//24//1e
    0x67, 0x20,//24//1e
    0x68, 0x20,//24//1e 
    0x69, 0x20,//24//1e
    
    0x76, 0x00,//0f
    
    0x6a, 0x08,
    0x6b, 0x08,
    0x6c, 0x08,
    0x6d, 0x08,
    0x6e, 0x08,
    0x6f, 0x08,
    0x70, 0x08,
    0x71, 0x08, //manual offset
    
    0x76, 0x00,//1f//add offset
    0x72, 0xf0, //[7:4]BLK DD th [3:0]BLK various th
    0x7e, 0x3c, //ndark
    0x7f, 0x00, 
    
    0xfe, 0x02,
    0x48, 0x15,
    0x49, 0x00,//04//04 //ASDE OFFSET SLOPE 
    0x4b, 0x0b, //ASDE y OFFSET SLOPE
    0xfe, 0x00,
    
    ///////////////////////////////////////////////
    /////////// AEC ////////////////////////
    ///////////////////////////////////////////////
    0xfe, 0x01,
    
    0x01, 0x04, //AEC X1
    0x02, 0xc0, //AEC X2
    0x03, 0x04, //AEC Y1
    0x04, 0x90, //AEC Y2
    0x05, 0x30, //20 //AEC center X1
    0x06, 0x90, //40 //AEC center X2
    0x07, 0x30, //30 //AEC center Y1
    0x08, 0x80, //60 //AEC center Y2
    
    0x09, 0x00, //AEC show mode
    0x0a, 0x82,//c2 //[7]col gain enable
    0x0b, 0x11, //AEC every N
    0x0c, 0x10, //AEC_mode3 center weight 
    0x11, 0x10,//
    0x13, 0x7b,//75//30//2a //AEC Y target
    0x17, 0x00, //AEC ignore mode
    0x1c, 0x11, //
    0x1e, 0x61, //
    0x1f, 0x35,//30//40//50 //max pre gain
    0x20, 0x40,//60//40 //max post gain
    0x22, 0x40,//80 //AEC outdoor THD
    0x23, 0x20, //target_Y_low_limit
    0xfe, 0x02,
    0x0f, 0x04,//05//04//05  
    0xfe, 0x01,
    
    0x12, 0x35, //35 //[5:4]group_size [3]slope_disable [2]outdoor_enable [0]histogram_enable
    0x15, 0xb0, //target_Y_high_limit
    0x10, 0x31, //num_thd_high
    0x3e, 0x28, //num_thd_low
    0x3f, 0xb0, //luma_thd
    0x40, 0x90, //luma_slope
    0x41, 0x0f, //color_diff
    
    /////////////////////////////
    //////// INTPEE /////////////
    /////////////////////////////
    0xfe, 0x02, //page2
    0x90, 0x6c, //ac //eeintp mode1
    0x91, 0x03,//02 ////eeintp mode2
    0x92, 0xcb,//64//c8//44 //low criteria for direction
    0x94, 0x33,//66
    0x95, 0x84,//b5
    0x97, 0x65,//78 ////edge effect
    0xa2, 0x11, //fix direction
    0xfe, 0x00,
    
    /////////////////////////////
    //////// DNDD///////////////
    /////////////////////////////
    0xfe, 0x02,
    0x80, 0xc1, //c1 //[7]share mode [6]skin mode  [5]is 5x5 mode [1:0]noise value select 0:2  1:2.5  2:3  3:4
    0x81, 0x08, //
    0x82, 0x05,//08 //signal a 0.6
    0x83, 0x08,//05//04 //signal b 2.5
    
    0x84, 0x0a, //10 //05 dark_DD_TH
    0x86, 0xf0, //a0 Y_value_dd_th2
    0x87, 0x50, //90 Y_value_dd_th3
    0x88, 0x15, //60 Y_value_dd_th4
    
    0x89, 0xb0, //80  // asde th2
    0x8a, 0x30, //60  // asde th3
    0x8b, 0x10, //30  // asde th4
    
    /////////////////////////////////////////////////
    ///////////// ASDE ////////////////////////
    /////////////////////////////////////////////////
    0xfe, 0x01, //page 1
    0x21, 0x04, //14//luma_value_div_sel(分频，与0xef呈2倍关系，增大1，0xef的值减小1倍)
    //0xef  luma_value read_only
    
    0xfe, 0x02, //page2
    0xa3, 0x50,//40 //ASDE_low_luma_value_LSC_th_H
    0xa4, 0x20, //ASDE_low_luma_value_LSC_th_L
    
    0xa5, 0x40, //80 //ASDE_LSC_gain_dec_slope_H
    0xa6, 0x80, // 80 //ASDE_LSC_gain_dec_slope_L
    //0xa7  ASDE_LSC_gain_dec  //read only
    
    0xab, 0x40,//50 //ASDE_low_luma_value_OT_th 
    
    0xae, 0x0c, //[3]EE1_effect_inc_or_dec_high,[2]EE2_effect_inc_or_dec_high,
               //[1]EE1_effect_inc_or_dec_low,[0]EE2_effect_inc_or_dec_low,  1:inc  0:dec
    
    0xb3, 0x46,//34//44 //ASDE_EE1_effect_slope_low,ASDE_EE2_effect_slope_low
    0xb4, 0x64,//44 //12 //ASDE_EE1_effect_slope_high,ASDE_EE2_effect_slope_high
    
    0xb6, 0x38,//40//40 //ASDE_auto_saturation_dec_slope 
    0xb7, 0x01,//02 //ASDE_sub_saturation_slope
    0xb9, 0x2b,//28//32 //[7:0]ASDE_auto_saturation_low_limit
    0x3c, 0x04,//08//[3:0]auto gray_dec_slope
    0x3d, 0x15,//20//30//[7:0]auto gray_dec_th
    
    
    0x4b, 0x06,//08//0d//y offset slope
    0x4c, 0x20,//y offset limit
    
    0xfe, 0x00,
    //
    ///////////////////gamma1////////////////////
    ////Gamma
    
    0xfe, 0x02,
    0x10, 0x09,//10
    0x11, 0x0d,//15
    0x12, 0x13,//1a
    0x13, 0x19,//1f
    0x14, 0x27,//2c
    0x15, 0x37,//39
    0x16, 0x45,//45
    0x17, 0x53,//54
    0x18, 0x69,
    0x19, 0x7d,
    0x1a, 0x8f,
    0x1b, 0x9d,
    0x1c, 0xa9,
    0x1d, 0xbd,
    0x1e, 0xcd,
    0x1f, 0xd9,
    0x20, 0xe3,
    0x21, 0xea,
    0x22, 0xef,
    0x23, 0xf5,
    0x24, 0xf9,
    0x25, 0xff,
    
    //0xfe, 0x02,
    //0x10, 0x0a,
    //0x11, 0x12,
    //0x12, 0x19,
    //0x13, 0x1f,
    //0x14, 0x2c,
    //0x15, 0x38,
    //0x16, 0x42,
    //0x17, 0x4e,
    //0x18, 0x63,
    //0x19, 0x76,
    //0x1a, 0x87,
    //0x1b, 0x96,
    //0x1c, 0xa2,
    //0x1d, 0xb8,
    //0x1e, 0xcb,
    //0x1f, 0xd8,
    //0x20, 0xe2,
    //0x21, 0xe9,
    //0x22, 0xf0,
    //0x23, 0xf8,
    //0x24, 0xfd,
    //0x25, 0xff,
    //0xfe, 0x00,
    0xc6, 0x20,//20//40//auto gammath1
    0xc7, 0x2b,//2b//50//auto gammath2
    /////auto gamma dark/////
    0xfe, 0x02,
    0x26, 0x0f,
    0x27, 0x14,
    0x28, 0x19,
    0x29, 0x1e,
    0x2a, 0x27,
    0x2b, 0x33,
    0x2c, 0x3b,
    0x2d, 0x45,
    0x2e, 0x59,
    0x2f, 0x69,
    0x30, 0x7c,
    0x31, 0x89,
    0x32, 0x98,
    0x33, 0xae,
    0x34, 0xc0,
    0x35, 0xcf,
    0x36, 0xda,
    0x37, 0xe2,
    0x38, 0xe9,
    0x39, 0xf3,
    0x3a, 0xf9,
    0x3b, 0xff,
    ///////////////////gamma2////////////////////
    ////Gamma outdoor
    //0xfe, 0x02,
    //0x26, 0x17,
    //0x27, 0x18,
    //0x28, 0x1c,
    //0x29, 0x20,
    //0x2a, 0x28,
    //0x2b, 0x34,
    //0x2c, 0x40,
    //0x2d, 0x49,
    //0x2e, 0x5b,
    //0x2f, 0x6d,
    //0x30, 0x7d,
    //0x31, 0x89,
    //0x32, 0x97,
    //0x33, 0xac,
    //0x34, 0xc0,
    //0x35, 0xcf,
    //0x36, 0xda,
    //0x37, 0xe5,
    //0x38, 0xec,
    //0x39, 0xf8,
    //0x3a, 0xfd,
    //0x3b, 0xff,
    
    ///////////////////////////////////////////////      
    ///////////   YCP       ///////////////////////  
    ///////////////////////////////////////////////  
    0xfe, 0x02,
    0xd1, 0x32, // 
    0xd2, 0x32, //
    0xd3, 0x40,//45
    0xd6, 0xf0,
    0xd7, 0x10,
    0xd8, 0xda,
    0xdd, 0x14, //edge sa
    0xde, 0x86, //asde auto gray
    0xed, 0x80,//81//01//
    0xee, 0x00,//3f//2b//28
    0xef, 0x3f,//3b//38 
    0xd8, 0xd8,//autogray protecy
    ///////////////abs////////////
    0xfe, 0x01,
    0x9f, 0x40,
    
    ////////////////////////////
    //////// LSC  ///////////////
    ////////////////////////////
    0xfe, 0x01,
    0xc2, 0x14,
    0xc3, 0x0d,
    0xc4, 0x0c,
    0xc8, 0x15,
    0xc9, 0x0d,
    0xca, 0x0a,
    0xbc, 0x24,
    0xbd, 0x10,
    0xbe, 0x0b,
    0xb6, 0x25,
    0xb7, 0x16,
    0xb8, 0x15,
    0xc5, 0x00,
    0xc6, 0x00,
    0xc7, 0x00,
    0xcb, 0x00,
    0xcc, 0x00,
    0xcd, 0x00,
    0xbf, 0x07,
    0xc0, 0x00,
    0xc1, 0x00,
    0xb9, 0x00,
    0xba, 0x00,
    0xbb, 0x00,
    0xaa, 0x01,
    0xab, 0x01,
    0xac, 0x00,
    0xad, 0x05,
    0xae, 0x06,
    0xaf, 0x0e,
    0xb0, 0x0b,
    0xb1, 0x07,
    0xb2, 0x06,
    0xb3, 0x17,
    0xb4, 0x0e,
    0xb5, 0x0e,
    0xd0, 0x09,
    0xd1, 0x00,
    0xd2, 0x00,
    0xd6, 0x08,
    0xd7, 0x00,
    0xd8, 0x00,
    0xd9, 0x00,
    0xda, 0x00,
    0xdb, 0x00,
    0xd3, 0x0a,
    0xd4, 0x00,
    0xd5, 0x00,
    0xa4, 0x00,
    0xa5, 0x00,
    0xa6, 0x77,
    0xa7, 0x77,
    0xa8, 0x77,
    0xa9, 0x77,
    0xa1, 0x80,
    0xa2, 0x80,
    
    0xfe, 0x01,
    0xdf, 0x0d,//01//0c
    0xdc, 0x25,//80
    0xdd, 0x30,//50//30
    0xe0, 0x77,
    0xe1, 0x80,
    0xe2, 0x77,
    0xe3, 0x90,
    0xe6, 0x90,
    0xe7, 0xa0,
    0xe8, 0x90,
    0xe9, 0xa0,
    
    0xfe, 0x00,
    
    /////////////////////////////////////////////////
    /////////////    AWB     ////////////////////////
    /////////////////////////////////////////////////
    0xfe, 0x01,
    
    
    0x4f, 0x00,
    0x4f, 0x00,
    0x4b, 0x01,
    0x4f, 0x00,
                                        
    0x4c, 0x01, // D75
    0x4d, 0x71,
    0x4e, 0x01,
    0x4c, 0x01,
    0x4d, 0x91,
    0x4e, 0x01,
    0x4c, 0x01,
    0x4d, 0x70,
    0x4e, 0x01,
    
    0x4c, 0x01, // D65
    0x4d, 0x90,
    0x4e, 0x02,                                    
                                        
    
    0x4c, 0x01,
    0x4d, 0xb0,
    0x4e, 0x02,
    0x4c, 0x01,
    0x4d, 0x8f,
    0x4e, 0x02,
    0x4c, 0x01,
    0x4d, 0x6f,
    0x4e, 0x02,
    0x4c, 0x01,
    0x4d, 0xaf,
    0x4e, 0x02,
    
    0x4c, 0x01,
    0x4d, 0xd0,
    0x4e, 0x02,
    0x4c, 0x01,
    0x4d, 0xf0,
    0x4e, 0x02,
    0x4c, 0x01,
    0x4d, 0xcf,
    0x4e, 0x02,
    0x4c, 0x01,
    0x4d, 0xef,
    0x4e, 0x02,
    
    0x4c, 0x01,//D50
    0x4d, 0x6e,
    0x4e, 0x03,
    0x4c, 0x01, 
    0x4d, 0x8e,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0xae,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0xce,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0x4d,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0x6d,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0x8d,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0xad,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0xcd,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0x4c,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0x6c,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0x8c,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0xac,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0xcc,
    0x4e, 0x03,
    
    0x4c, 0x01,
    0x4d, 0xcb,
    0x4e, 0x03,
    
    0x4c, 0x01,
    0x4d, 0x4b,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0x6b,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0x8b,
    0x4e, 0x03,
    0x4c, 0x01,
    0x4d, 0xab,
    0x4e, 0x03,
    
    0x4c, 0x01,//CWF
    0x4d, 0x8a,
    0x4e, 0x04,
    0x4c, 0x01,
    0x4d, 0xaa,
    0x4e, 0x04,
    0x4c, 0x01,
    0x4d, 0xca,
    0x4e, 0x04,
    0x4c, 0x01,
    0x4d, 0xca,
    0x4e, 0x04,
    0x4c, 0x01,
    0x4d, 0xc9,
    0x4e, 0x04,
    0x4c, 0x01,
    0x4d, 0x8a,
    0x4e, 0x04,
    0x4c, 0x01,
    0x4d, 0x89,
    0x4e, 0x04,
    0x4c, 0x01,
    0x4d, 0xa9,
    0x4e, 0x04,
    
    
    
    0x4c, 0x02,//tl84
    0x4d, 0x0b,
    0x4e, 0x05,
    0x4c, 0x02,
    0x4d, 0x0a,
    0x4e, 0x05,
    
    0x4c, 0x01,
    0x4d, 0xeb,
    0x4e, 0x05,
    
    0x4c, 0x01,
    0x4d, 0xea,
    0x4e, 0x05,
    
    0x4c, 0x02,
    0x4d, 0x09,
    0x4e, 0x05,
    0x4c, 0x02,
    0x4d, 0x29,
    0x4e, 0x05,
    
    0x4c, 0x02,
    0x4d, 0x2a,
    0x4e, 0x05,
    
    0x4c, 0x02,
    0x4d, 0x4a,
    0x4e, 0x05,
    
    //0x4c, 0x02, //A
    //0x4d, 0x6a,
    //0x4e, 0x06,
    
    0x4c, 0x02, 
    0x4d, 0x8a,
    0x4e, 0x06,
    
    0x4c, 0x02,
    0x4d, 0x49,
    0x4e, 0x06,
    0x4c, 0x02,
    0x4d, 0x69,
    0x4e, 0x06,
    0x4c, 0x02,
    0x4d, 0x89,
    0x4e, 0x06,
    0x4c, 0x02,
    0x4d, 0xa9,
    0x4e, 0x06,
    
    0x4c, 0x02,
    0x4d, 0x48,
    0x4e, 0x06,
    0x4c, 0x02,
    0x4d, 0x68,
    0x4e, 0x06,
    0x4c, 0x02,
    0x4d, 0x69,
    0x4e, 0x06,
    
    0x4c, 0x02,//H
    0x4d, 0xca,
    0x4e, 0x07,
    0x4c, 0x02,
    0x4d, 0xc9,
    0x4e, 0x07,
    0x4c, 0x02,
    0x4d, 0xe9,
    0x4e, 0x07,
    0x4c, 0x03,
    0x4d, 0x09,
    0x4e, 0x07,
    0x4c, 0x02,
    0x4d, 0xc8,
    0x4e, 0x07,
    0x4c, 0x02,
    0x4d, 0xe8,
    0x4e, 0x07,
    0x4c, 0x02,
    0x4d, 0xa7,
    0x4e, 0x07,
    0x4c, 0x02,
    0x4d, 0xc7,
    0x4e, 0x07,
    0x4c, 0x02,
    0x4d, 0xe7,
    0x4e, 0x07,
    0x4c, 0x03,
    0x4d, 0x07,
    0x4e, 0x07,
    
    0x4f, 0x01,
    
    
    0x4f, 0x01,
    0x50, 0x80, //AWB_PRE_mode
    0x51, 0xa8, //AWB_pre_THD_min[7:0]
    0x52, 0x47,//57 //AWB_pre_THD_min[15:8] Dominiate luma 0.25=639c 0.22=57a8
    0x53, 0x38, //AWB_pre_THD_min_MIX[7:0]
    0x54, 0xc7, //AWB_pre_THD_min_MIX[15:8] Mix luma 0.5
    
    0x56, 0x0e, //AWB_tone mode
    0x58, 0x08, //AWB_C_num_sel,AWB_D_num_sel
    0x5b, 0x00, //AWB_mix_mode 
    
    0x5c, 0x74, //green_num0[7:0]
    0x5d, 0x8b, //green_num0[15:8] 0.35
    
    0x61, 0xdb,//a8 //R2G_stand0   OUT BA c0
    0x62, 0xb8,//b8 //B2G_stand0       B6  c2
    0x63, 0x86,//aa//00//88//a4 //AWB gray mode [7]enable
    0x64, 0xc0,//80
    0x65, 0x04, //AWB margin
    
    0x67, 0xa8, //R2G_stand3[7:0]  FF/CWF
    0x68, 0xb0, //B2G_stand3[7:0]
    0x69, 0x00, //R2G_stand4[9:8] B2G_stand4[9:8] R2G_stand3[9:8] B2G_stand3[9:8]
    0x6a, 0xa8, //R2G_stand4[7:0]  TL84/TL84&CWF
    0x6b, 0xb0, //B2G_stand4[7:0]
    0x6c, 0xaf, //R2G_stand5[7:0]  A
    0x6d, 0x8b, //B2G_stand5[7:0]
    0x6e, 0x50, //AWB_skin_weight R2G_stand5[9:8] B2G_stand5[9:8]
    0x6f, 0x18, //AWB_indoor_THD (0x21=17 caculate)
    0x73, 0xf0,//e0//0f //AWB_indoor_mode
    
    0x70, 0x0d,//10 //AWB low luma TH
    0x71, 0x60,//e8 //AWB outdoor TH
    0x72, 0x80,//81//c1//c0 //outdoor mode
    0x74, 0x01, //[2:0]AWB skip mode 2x2,4x4,4x8,8x8
    0x75, 0x01, //[1:0]AWB_every_N
    0x7f, 0x08,//0c //[3]gray world frame start
    
    0x76, 0x70, //R limit
    0x77, 0x58, //G limit
    0x78, 0xa0, //d8 //B limit
    0x79, 0x5e,//53
    0x7a, 0x54,
    0x7b, 0x58,
    
    0xfe, 0x00,
    //
    //////////////////////////////////////////
    ///////////  CC   ////////////////////////
    //////////////////////////////////////////
    0xfe, 0x02,
    0xc0, 0x01, //[5:4] CC mode [0]CCT enable
    
    0xC1, 0x44,//48//44//50 //D50/D65
    0xc2, 0xfd,//F8//F4
    0xc3, 0x04,//02 //0
    0xc4, 0xF0,//f2//e8 //e0
    0xc5, 0x48,//4B//44//48
    0xc6, 0xFD,//f8//f0
    
    
    0xC7, 0x46,//50
    0xc8, 0xfd,//f2
    0xc9, 0x02,//00
    0xcA, 0xE0,
    0xcB, 0x45,
    0xcC, 0xec,
    
    0xCd, 0x48,//45
    0xce, 0xf0,
    0xcf, 0xf0,//00
    0xe3, 0x0c,
    0xe4, 0x4b,
    0xe5, 0xe0,
    
    
    0xfe, 0x00,
    
    0xf2, 0x0f,
    
    
    //////////////frame rate   50Hz
    0xfe, 0x00,
    0xf7, 0x1d,
    0xf8, 0x84,
    
    0x03, 0x04,
    0x04, 0xe2,
    0x05, 0x01,//hb
    0x06, 0x56,
    0x07, 0x00,//Vb
    0x08, 0x14,
    
    0xfe, 0x01,
    
    0x25, 0x00,
    0x26, 0xfa, //step
    0x27, 0x04, //20fps
    0x28, 0xe2,
    0x29, 0x05, //16.7fps
    0x2a, 0xdc,
    0x2b, 0x07,//07 //12.5fps
    0x2c, 0xd0,//d0
    0x2d, 0x0b, //night mode 8.3fps
    0x2e, 0xb8,
    0xfe, 0x00,
    
    
    /////////dark  sun//////  
    0xfe, 0x02, 
    0x40, 0xbf,
    0x46, 0xcf,
    0xfe, 0x00,
};

int32_t GC2145_WriteReg(uint16_t u16_Reg, uint8_t u8_Val)
{
    uint8_t u8_buf[3] = {0};
    int32_t s32_result = 0;

    u8_buf[0] = u16_Reg & 0xff;
    u8_buf[1] = u8_Val;

    I2C_Master_WriteData(GC2145_COMPONENT, GC2145_I2C_ADDR, u8_buf, 2);
    s32_result = I2C_Master_WaitTillIdle(GC2145_COMPONENT, GC2145_I2C_MAX_DELAY);
    if(0 != s32_result)
    {
        DLOG_Error("write reg error:reg=%x,val=%x", u16_Reg, u8_Val);
        s32_result = -1;
    }
    else
    {
        ;
    }

    return s32_result;
}

int32_t GC2145_ReadReg(uint16_t u16_Reg, uint8_t *pu8_Val)
{
    uint8_t u8_regBuf[2] = {0};
    uint8_t u8_rdVal = 0;
    int32_t s32_result = 0;
    
    u8_regBuf[0] = u16_Reg & 0xff;

    I2C_Master_ReadData(GC2145_COMPONENT, GC2145_I2C_ADDR, u8_regBuf,1, &u8_rdVal, 1);
    s32_result = I2C_Master_WaitTillIdle(GC2145_COMPONENT, GC2145_I2C_MAX_DELAY);
    if(0 != s32_result) 
    {
        DLOG_Error("read reg error:reg=%x", u16_Reg);
        s32_result = -1;
    }
    else
    {
        ;
    }   

    *pu8_Val = u8_rdVal;

    return s32_result;
}

int32_t GC2145_DownloadFirmware(STRU_CAMERA_REG_VALUE *pst_cfg, uint32_t ArySize)
{
    register uint16_t u16_regAddr = 0;
    register uint8_t u8_val = 0;
    uint8_t u8_regVal = 0;
    uint32_t u32_i;
    int32_t s32_retVal = 0;

    for (u32_i = 0; u32_i < ArySize; ++u32_i, ++pst_cfg) 
    {
        u16_regAddr = pst_cfg->u16_regAddr;
        u8_val = pst_cfg->u8_val;

        s32_retVal = GC2145_WriteReg(u16_regAddr, u8_val);
        if (s32_retVal < 0)
        {
            goto err;
        }

    }
err:
    return s32_retVal;
}

void GC2145_PinSet(void)
{
    HAL_GPIO_SetMode(GC2145_PWDN, HAL_GPIO_PIN_MODE2);    
    HAL_GPIO_OutPut(GC2145_PWDN);
    HAL_GPIO_SetMode(GC2145_RESET, HAL_GPIO_PIN_MODE2);    
    HAL_GPIO_OutPut(GC2145_RESET);

    HAL_GPIO_SetPin(GC2145_RESET,  HAL_GPIO_PIN_RESET);
    HAL_Delay(2);
    HAL_GPIO_SetPin(GC2145_PWDN,  HAL_GPIO_PIN_SET);
    HAL_Delay(2);
    HAL_GPIO_SetPin(GC2145_PWDN,  HAL_GPIO_PIN_RESET);
    HAL_Delay(2);
    HAL_GPIO_SetPin(GC2145_RESET,  HAL_GPIO_PIN_SET);
    HAL_Delay(2);
}

void GC2145_Init(uint8_t par_no)
{
    uint32_t ArSize = sizeof(GC2145DVP) /
                                sizeof(GC2145DVP[0]);

    DLOG_Warning("size:%d", ArSize);
    HAL_I2C_MasterInit(GC2145_COMPONENT, GC2145_I2C_ADDR, HAL_I2C_FAST_SPEED);

    GC2145_DownloadFirmware(GC2145DVP, ArSize);
    DLOG_Error("GC2145_1920108030fps_set");
}

